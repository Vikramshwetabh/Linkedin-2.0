<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Finnger</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#7c3aed', // purple-600
                        accent: '#a78bfa', // purple-400
                        light: '#f8fafc',
                        dark: '#18181b',
                        graybg: '#f3f4f6' // gray-100
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-graybg min-h-screen flex items-center justify-center">
    <div class="w-full min-h-screen flex items-center justify-center">
        <div
            class="w-full max-w-5xl bg-white rounded-3xl shadow-xl flex flex-col md:flex-row overflow-hidden border border-gray-200">
            <!-- Left: Login Form -->
            <div class="w-full md:w-1/2 flex flex-col justify-center px-10 py-12">
                <!-- Logo -->
                <div class="flex items-center mb-10">
                    <span class="inline-block w-4 h-4 rounded bg-primary mr-2"></span>
                    <span class="font-semibold text-primary text-lg">Jobber</span>
                </div>
                <!-- Headline -->
                <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Holla Amigo,<br>Welcome Back</h1>
                <p class="text-gray-400 mb-8">Hey, welcome back to your special place</p>
                <!-- Login Form -->
                <form class="space-y-4" id="loginForm">
                    <div>
                        <input id="email" name="email" type="email" required
                            class="w-full px-4 py-2 border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-primary text-gray-900"
                            placeholder="stanley@gmail.com">
                    </div>
                    <div>
                        <input id="password" name="password" type="password" required
                            class="w-full px-4 py-2 border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-primary text-gray-900"
                            placeholder="••••••••••••">
                    </div>
                    <div class="flex items-center justify-between text-sm">
                        <label class="flex items-center">
                            <input type="checkbox" class="form-checkbox text-primary mr-2">
                            <span class="text-primary">Remember me</span>
                        </label>
                        <a href="#" class="text-gray-400 hover:text-primary transition">Forgot Password?</a>
                    </div>
                    <button type="submit"
                        class="w-full bg-primary text-white py-2 rounded font-semibold text-lg mt-2 hover:bg-purple-700 transition">Sign
                        In</button>
                    <div id="message" class="hidden text-center text-sm font-medium rounded-lg p-3"></div>
                </form>
                <div class="mt-8 text-center text-gray-400 text-sm">
                    Don't have an account? <a href="register.html" class="text-primary font-medium hover:underline">Sign
                        Up</a>
                </div>
            </div>
            <!-- Right: Illustration & Gradient -->
            <div
                class="hidden md:flex w-1/2 items-center justify-center bg-gradient-to-br from-primary via-accent to-primary relative">
                <div class="flex flex-1 items-center justify-center w-full h-full">
                    <!-- SVG Illustration Placeholder -->
                    <svg width="380" height="380" viewBox="0 0 380 380" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="bgGrad" x1="0" y1="0" x2="1" y2="1">
                                <stop offset="0%" stop-color="#a78bfa" />
                                <stop offset="100%" stop-color="#7c3aed" />
                            </linearGradient>
                        </defs>
                        <rect width="380" height="380" rx="36" fill="url(#bgGrad)" />
                        <!-- Clouds -->
                        <ellipse cx="320" cy="60" rx="40" ry="18" fill="#fff" fill-opacity="0.9" />
                        <ellipse cx="60" cy="340" rx="30" ry="13" fill="#fff" fill-opacity="0.9" />
                        <ellipse cx="350" cy="350" rx="25" ry="10" fill="#fff" fill-opacity="0.9" />
                        <ellipse cx="100" cy="60" rx="30" ry="12" fill="#fff" fill-opacity="0.9" />
                        <!-- Phone -->
                        <rect x="170" y="70" width="120" height="200" rx="28" fill="#fff" stroke="#7c3aed"
                            stroke-width="4" />
                        <ellipse cx="230" cy="110" rx="22" ry="7" fill="#ede9fe" />
                        <!-- Fingerprint -->
                        <ellipse cx="230" cy="170" rx="28" ry="28" fill="#ede9fe" />
                        <path d="M230 190c-10 0-18-8-18-18s8-18 18-18 18 8 18 18" stroke="#a78bfa" stroke-width="3"
                            fill="none" />
                        <path d="M230 200c-15 0-26-11-26-26s11-26 26-26 26 11 26 26" stroke="#a78bfa" stroke-width="2"
                            fill="none" />
                        <!-- Person -->
                        <ellipse cx="180" cy="260" rx="16" ry="7" fill="#a78bfa" />
                        <rect x="160" y="200" width="32" height="50" rx="12" fill="#fde68a" />
                        <rect x="170" y="180" width="16" height="24" rx="8" fill="#fbbf24" />
                        <rect x="180" y="170" width="16" height="8" rx="4" fill="#fbbf24" />
                        <rect x="190" y="230" width="24" height="8" rx="4" fill="#7c3aed" />
                        <!-- Padlock -->
                        <rect x="270" y="200" width="32" height="40" rx="8" fill="#fff" stroke="#7c3aed"
                            stroke-width="3" />
                        <rect x="282" y="190" width="8" height="16" rx="4" fill="#fff" stroke="#7c3aed"
                            stroke-width="2" />
                        <circle cx="288" cy="220" r="5" fill="#a78bfa" />
                        <!-- Checkmark bubble -->
                        <ellipse cx="270" cy="120" rx="22" ry="12" fill="#fff" />
                        <path d="M262 120l6 6 10-12" stroke="#7c3aed" stroke-width="3" fill="none" />
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('loginForm').addEventListener('submit', async function (e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const messageDiv = document.getElementById('message');
            try {
                const response = await fetch('http://localhost:8080/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });
                const data = await response.json();
                messageDiv.className = 'text-center text-sm font-medium rounded-lg p-3';
                if (data.success) {
                    messageDiv.className += ' bg-green-100 text-green-800 border border-green-200';
                    messageDiv.textContent = 'Login successful! Redirecting...';
                    localStorage.setItem('user', JSON.stringify(data.data.user));
                    localStorage.setItem('token', data.data.token);
                    setTimeout(() => {
                        if (data.data.user.role === 'recruiter') {
                            window.location.href = 'recruiter-dashboard.html';
                        } else {
                            window.location.href = 'jobseeker-dashboard.html';
                        }
                    }, 1000);
                } else {
                    messageDiv.className += ' bg-red-100 text-red-800 border border-red-200';
                    messageDiv.textContent = data.error || 'Login failed';
                }
                messageDiv.classList.remove('hidden');
            } catch (error) {
                messageDiv.className = 'text-center text-sm font-medium rounded-lg p-3 bg-red-100 text-red-800 border border-red-200';
                messageDiv.textContent = 'Network error. Please try again.';
                messageDiv.classList.remove('hidden');
            }
        });
    </script>
</body>

</html>